import os
from dotenv import load_dotenv
from static_analysis import static_analysis
from dynamic_analysis import cuckoo_parser
from utils import file_utils

# .env 파일 로드
load_dotenv(dotenv_path='.env')


if __name__ == "__main__":
    job = os.getenv('JOB')
    if job == 'STATIC_ANALYSIS':
        # Static analysis and parsing CSV file
        static_analysis.main(os.getenv('DATASET_PATH'), os.getenv('STATIC_FEATURE_PATH'))
    elif job == 'CUCKOO_REPORTS_PARSING':
        cuckoo_parser.main(os.getenv('CUCKOO_REPORTS_PATH'), os.getenv('DYNAMIC_FEATURE_PATH'))
    elif job == 'MOVE_REPORTS':
        file_utils.main()
    else:
        print("Select job... 종류... 에드워드... 오빠...")